import {DotLottie,DotLottieWorker}from'@lottiefiles/dotlottie-web';import {useRef,useCallback,useEffect}from'react';import {jsx}from'react/jsx-runtime';var p=({animationId:o,autoplay:B,backgroundColor:m,className:C,createDotLottie:E,data:s,dotLottieRefCallback:W,layout:i,loop:D,mode:d,playOnHover:T,renderConfig:g,segment:n,speed:k,src:l,stateMachineConfig:y,stateMachineId:c,style:J,themeData:b,themeId:a,useFrameInterpolation:R,workerId:O,...v})=>{let t=useRef(null),f=useRef(null),w=useRef(W),P={speed:k,mode:d,loop:D,useFrameInterpolation:R,segment:n,backgroundColor:m,autoplay:B,themeId:a,workerId:O,src:l,data:s,layout:i,renderConfig:g,animationId:o,stateMachineConfig:y,stateMachineId:c},u=useRef(P);w.current=W,u.current=P;let X=useCallback(r=>{f.current=r,r?t.current=E({...u.current,canvas:r}):(t.current?.destroy(),t.current=null),w.current?.(t.current);},[]);return useEffect(()=>{let r=x=>{T&&(x.type==="mouseenter"&&t.current?.play(),x.type==="mouseleave"&&t.current?.pause());};return f.current?.addEventListener("mouseenter",r),f.current?.addEventListener("mouseleave",r),()=>{f.current?.removeEventListener("mouseenter",r),f.current?.removeEventListener("mouseleave",r);}},[T]),useEffect(()=>{t.current?.setSpeed(k??1);},[k]),useEffect(()=>{t.current?.setMode(d??"forward");},[d]),useEffect(()=>{t.current?.setLoop(D??false);},[D]),useEffect(()=>{t.current?.setUseFrameInterpolation(R??true);},[R]),useEffect(()=>{typeof n?.[0]=="number"&&typeof n[1]=="number"&&t.current?.setSegment(n[0],n[1]);},[n]),useEffect(()=>{t.current?.setBackgroundColor(m??"");},[m]),useEffect(()=>{t.current?.setRenderConfig(g??{});},[JSON.stringify(g)]),useEffect(()=>{typeof s!="string"&&typeof s!="object"||t.current?.load({data:s,...u.current});},[s]),useEffect(()=>{typeof l=="string"&&t.current?.load({src:l,...u.current});},[l]),useEffect(()=>{t.current?.setMarker(v.marker??"");},[v.marker]),useEffect(()=>{t.current?.loadAnimation(o??"");},[o]),useEffect(()=>{typeof a=="string"&&t.current?.setTheme(a);},[a]),useEffect(()=>{t.current?.setThemeData(b??"");},[b]),useEffect(()=>{t.current?.setLayout(i??{});},[i?.fit,i?.align&&i.align[0],i?.align&&i.align[1]]),useEffect(()=>{t.current?.isLoaded&&(typeof c=="string"&&c?t.current.stateMachineLoad(c)&&t.current.stateMachineStart():t.current.stateMachineStop());},[c]),useEffect(()=>{t.current?.stateMachineSetConfig(y??null);},[y]),jsx("div",{className:C,...!C&&{style:{width:"100%",height:"100%",lineHeight:0,...J}},children:jsx("canvas",{ref:X,style:{width:"100%",height:"100%"},...v})})};var U=o=>new DotLottie(o),_=o=>jsx(p,{...o,createDotLottie:U});var N=o=>new DotLottieWorker(o),tt=o=>jsx(p,{...o,createDotLottie:N});var it=o=>{DotLottieWorker.setWasmUrl(o),DotLottie.setWasmUrl(o);};export{_ as DotLottieReact,tt as DotLottieWorkerReact,it as setWasmUrl};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map